# ğŸ§™â€â™‚ï¸ The Wisdom Council - Restructured Agent Team

**Status:** âœ… COMPLETE
**Date:** 2026-02-13
**Based on:** Philip Pullman's "His Dark Materials" trilogy

---

## The 7 Agents with Their Daemons

### 1. **Lyra** - The Analyst ğŸ“Š
```
Character:  Lyra Belacqua (Protagonist)
Daemon:     Pantalaimon - Marten (proteus daemon, can change shape)
Role:       Analyst
Purpose:    Analyzes deeply, seeks truth, questions assumptions

Key Traits:
  âœ“ Curious and investigative
  âœ“ Brave and honest
  âœ“ Seeks hidden patterns
  âœ“ Protective of truth

Skills:
  â€¢ Data analysis
  â€¢ Research & truth-seeking
  â€¢ Pattern recognition
  â€¢ Deep investigation

Daemon Insight:
Pantalaimon's ability to change shape (as a proteus daemon in childhood)
reflects Lyra's analytical flexibility - she adapts her thinking to find truth.
```

---

### 2. **Iorek** - The Architect ğŸ—ï¸
```
Character:  Iorek Byrnison (Armored Bear)
Daemon:     NONE (sentient bear, no human daemon)
Role:       Architect
Purpose:    Designs structures, provides strength, resolves conflicts

Key Traits:
  âœ“ Powerful and strong
  âœ“ Honorable and protective
  âœ“ Strategic thinker
  âœ“ Commands respect

Skills:
  â€¢ System architecture
  â€¢ Structural design
  â€¢ Problem-solving
  â€¢ Protective strategies

No Daemon Insight:
As a sentient bear, Iorek IS his own complete being - no external daemon.
This reflects his independence and self-determination in design decisions.
```

---

### 3. **Marisa** - The Developer ğŸ’»
```
Character:  Marisa Coulter (Antagonist)
Daemon:     Golden Monkey (intelligent, precise, commanding)
Role:       Developer
Purpose:    Executes ambitiously, drives projects, makes decisive actions

Key Traits:
  âœ“ Ambitious and charismatic
  âœ“ Decisive and driven
  âœ“ Action-oriented
  âœ“ Commands authority

Skills:
  â€¢ Code execution & implementation
  â€¢ Project driving
  â€¢ Ambitious planning
  â€¢ Decisive action

Daemon Insight:
The Golden Monkey is intelligent, precise, and commanding - perfectly
reflecting Marisa's ability to execute complex projects with determination.
```

---

### 4. **Serafina** - The Researcher ğŸ”¬
```
Character:  Serafina Pekkala (Queen of the Witches)
Daemon:     Witch-nature (aerial perspective, ancient wisdom)
Role:       Researcher
Purpose:    Deep research, sees big picture, gathers ancient knowledge

Key Traits:
  âœ“ Wise and strategic
  âœ“ Far-seeing perspective
  âœ“ Knowledgeable
  âœ“ Connected to nature

Skills:
  â€¢ Deep research & investigation
  â€¢ Big-picture analysis
  â€¢ Knowledge gathering
  â€¢ Wisdom & strategy

Daemon Insight:
Witches have unique daemon relationships - Serafina's aerial perspective
(witches fly) allows her to see patterns others miss. Always researching.
```

---

### 5. **Lee** - The Writer âœï¸
```
Character:  Lee Scoresby (Aeronaut & Storyteller)
Daemon:     Hester (Hare - fast, aware, communicative)
Role:       Writer
Purpose:    Creates communication, tells stories, documents discoveries

Key Traits:
  âœ“ Loyal and brave
  âœ“ Communicative
  âœ“ Observant
  âœ“ Tells compelling stories

Skills:
  â€¢ Writing & documentation
  â€¢ Storytelling
  â€¢ Clear communication
  â€¢ Content creation

Daemon Insight:
Hester is a hare - fast, aware, and alert. Like Lee, always watching
and ready to communicate discoveries clearly and compellingly.
```

---

### 6. **Coram** - The Validator âœ…
```
Character:  Farder Coram (Experienced Gyptian)
Daemon:     Sophonax (Water bird/Lavender - careful, experienced)
Role:       Validator
Purpose:    Validates thoroughly, tests carefully, identifies risks

Key Traits:
  âœ“ Experienced and careful
  âœ“ Wise observer
  âœ“ Protective
  âœ“ Risk-aware

Skills:
  â€¢ Thorough validation & testing
  â€¢ Risk assessment
  â€¢ Experience-based wisdom
  â€¢ Careful analysis

Daemon Insight:
Sophonax, a water bird, is careful and deliberate. Like Coram, who brings
years of experience to validate decisions before proceeding.
```

---

### 7. **Asriel** - The Coordinator ğŸ¯
```
Character:  Lord Asriel (Strategic Leader, Ambitious Visionary)
Daemon:     Stelmaria (Snow Leopard - powerful, protective, regal)
Role:       Coordinator
Purpose:    Coordinates grand strategy, commands loyalty, drives vision

Key Traits:
  âœ“ Ambitious and strategic
  âœ“ Powerful leader
  âœ“ Charismatic
  âœ“ Visionary

Skills:
  â€¢ Strategic coordination
  â€¢ Leadership & command
  â€¢ Grand vision
  â€¢ Orchestration

Daemon Insight:
Stelmaria, a snow leopard, is powerful, protective, and regal. Like Asriel,
who commands loyalty and drives ambitious visions forward with authority.
```

---

## How Daemons Influence Agent Behavior

### Daemon Nature = Work Style

| Agent | Daemon Nature | How It Works |
|-------|---------------|-------------|
| **Lyra** | Proteus (adaptable) | Flexible thinking, adapts to find truth |
| **Iorek** | Self (complete) | Independent, decisive decisions |
| **Marisa** | Golden Monkey (precise) | Exact execution, commanding presence |
| **Serafina** | Aerial (perspective) | Big-picture thinking, sees patterns |
| **Lee** | Hare (alert) | Fast communication, aware of details |
| **Coram** | Careful (deliberate) | Thoughtful validation, considers risks |
| **Asriel** | Leopard (powerful) | Strong coordination, inspires loyalty |

---

## Team Dynamics

### Leadership Hierarchy
```
ğŸ¯ Asriel (Coordinator) - Commands the team
   â”œâ”€â”€ ğŸ“Š Lyra (Analyst) - Gathers truth & insights
   â”œâ”€â”€ ğŸ—ï¸ Iorek (Architect) - Builds solutions
   â”œâ”€â”€ ğŸ’» Marisa (Developer) - Executes plans
   â”œâ”€â”€ ğŸ”¬ Serafina (Researcher) - Explores possibilities
   â”œâ”€â”€ âœï¸ Lee (Writer) - Communicates findings
   â””â”€â”€ âœ… Coram (Validator) - Validates everything
```

### Complementary Strengths
- **Truth-Seeking (Lyra)** + **Validation (Coram)** = Verified insights
- **Vision (Asriel)** + **Execution (Marisa)** = Projects delivered
- **Research (Serafina)** + **Communication (Lee)** = Knowledge shared
- **Design (Iorek)** + **Validation (Coram)** = Solid architecture

---

## What Changed from Old Structure

| Old | New | Why |
|-----|-----|-----|
| Philip (undefined) | Asriel (Lord Asriel) | Clear character from books |
| Pantalaimon (agent) | Pantalaimon (daemon) | Correctly positioned as Lyra's daemon |
| Tester role | Validator role | Farder Coram brings wisdom + testing |
| Generic roles | Character-based roles | Daemon nature influences approach |
| No personality | Rich personality | Drawn from book characterization |

---

## Demon Information in Code

Each agent now includes:
- **character**: Full character description from His Dark Materials
- **daemon**: Name & nature of their external soul manifestation
- **personality_traits**: Key traits influencing how they work
- **skills**: Specific capabilities tied to daemon nature

```python
Agent(
    id="analyst",
    name="Lyra",
    character="Lyra Belacqua - Curious, brave, truth-seeker",
    role="Analyst",
    daemon="Pantalaimon (marten, proteus daemon - can change shape)",
    description="Analyzes deeply, seeks patterns, questions assumptions",
    skills=["analysis", "research", "truth-seeking", "pattern-recognition"],
    personality_traits=["curious", "brave", "honest", "protective"],
)
```

---

## How This Affects Agents' Work

### When Analyzing Projects
- **Lyra** asks: "What hidden truths are we missing?"
- **Iorek** asks: "Is this structure solid?"
- **Marisa** asks: "How do we execute this?"
- **Serafina** asks: "What's the bigger picture?"
- **Lee** asks: "How do we communicate this?"
- **Coram** asks: "Is this safe and validated?"
- **Asriel** asks: "Is this aligned with our vision?"

### When Making Decisions
Their daemons influence:
- **How quickly** they decide (Marisa is decisive, Coram is careful)
- **What they focus on** (Lyra finds truth, Serafina sees big picture)
- **How they communicate** (Lee is clear, Asriel is commanding)
- **Confidence level** (Coram validates, Lyra questions)

---

## ğŸ§  The Intelligence Engine - DeepSeek-R1-Distill-Qwen-8B

### The LLM Powering the Council
```
Model:           DeepSeek-R1-Distill-Qwen-8B
Framework:       MLX (Apple Silicon optimized)
Capabilities:    âœ… Reasoning + Chain-of-thought
Language:        âœ… Portuguese + English (native support)
Location:        ~/mlx-models/DeepSeek-R1-Distill-Qwen-8B-MLX/
RAM Required:    8GB minimum, 10GB ideal
```

### What Changed
- âŒ **OLD:** Qwen3 8B (had issues responding only in Chinese)
- âœ… **NEW:** DeepSeek-R1-Distill-Qwen-8B (reasoning + Portuguese)

### Why This Model

| Need | Qwen3 8B | DeepSeek-R1 14B |
|------|----------|---|
| Reasoning | âŒ Limited | âœ… Professional |
| Portuguese | âš ï¸ Buggy | âœ… Native |
| 16GB Compatibility | âœ… Safe | âœ… Perfect |
| Consulting Level | âŒ Generic | âœ… Deep |

### What Each Agent Gets
The LLM enhances each agent with **reasoning capability**:
- **Lyra**: Semantic analysis + chain-of-thought reasoning
- **Iorek**: Architectural reasoning with step-by-step logic
- **Marisa**: Technical feasibility with explained decisions
- **Serafina**: Market research with reasoned insights
- **Lee**: Content with explained reasoning for clarity
- **Coram**: Risk analysis with mitigation strategies explained
- **Asriel**: Strategic decisions with transparent reasoning

---

## ğŸ›¡ï¸ RAM Guardrails - Critical Safety System

### IMPORTANT: Check RAM Before Every Session

**Run this command FIRST:**
```bash
python check_ram_before_use.py
```

This verifies:
- âœ… Model files are downloaded
- âœ… You have 13GB+ RAM (minimum)
- âœ… You have 16GB+ RAM (ideal)
- âœ… System is ready to use

### The 6-Level Protection System

#### GUARDRAIL 1: Hard Minimum Threshold
```
If RAM < 13GB:
  âŒ CANNOT LOAD MODEL
  Solutions: Close apps, restart MacBook
```

#### GUARDRAIL 2: Ideal RAM Warning
```
If RAM < 16GB (but > 13GB):
  âš ï¸  CAN LOAD but may be SLOWER
  Solution: Close other applications
```

#### GUARDRAIL 3: Pre-Load Verification
```
Before loading:
  âœ“ Refresh RAM status
  âœ“ Verify minimum requirement met
  âœ“ Warn if below ideal
```

#### GUARDRAIL 4: Load-Time Check
```
During loading:
  âœ“ Final RAM check
  âœ“ Catch out-of-memory errors
  âœ“ Provide specific solutions
```

#### GUARDRAIL 5: Post-Load Verification
```
After successful load:
  âœ“ Check remaining RAM
  âœ“ Warn if < 3GB left
  âœ“ Advise closing additional apps
```

#### GUARDRAIL 6: Generation-Time Check
```
Before each analysis:
  âœ“ Verify 3GB+ free for generation
  âœ“ Warn if < 5GB
  âœ“ Raise error if insufficient
  âœ“ Suggest: restart or reduce max_tokens
```

### Clear Error Messages

If analysis fails, errors tell you **exactly** what to do:

```
âŒ CRITICAL: Insufficient RAM!
   Available: 8.5GB
   Required: 13GB minimum
   Deficit: 4.5GB short!

SOLUTIONS:
  1. Close all browser tabs
  2. Close Slack, Discord, email clients
  3. Close IDEs and text editors
  4. Restart your MacBook
  5. Try again
```

### RAM Monitoring Commands

```bash
# Check status before starting
python check_ram_before_use.py

# Full system status
python -c "from core.llm import create_ram_manager; create_ram_manager().print_status()"

# Watch in real-time during analysis
watch -n 1 'top -l 1 | grep Memory'
```

### Your Setup is Tight!
```
Total RAM:       16GB
Model minimum:   13GB
Model loaded:    ~13GB used
Remaining:       ~3GB for OS + other apps

âš ï¸  Close other apps before analysis!
âš ï¸  Monitor RAM during long operations!
âš ï¸  Don't open heavy apps while analyzing!
```

---

## Next Steps

### Before Using the Council
1. **Check RAM:** `python check_ram_before_use.py`
2. **Verify Setup:** `python verify_setup.py`
3. **Test LLM:** `python test_deepseek_portuguese.py`
4. **Confirm Ready:** All tests pass âœ…

### Implementation
1. âœ… Agents restructured with His Dark Materials characters
2. âœ… Daemons assigned and documented
3. âœ… LLM integrated: DeepSeek-R1-Distill-Qwen-8B
4. âœ… RAM guardrails implemented (6 levels)
5. â³ Test each agent with new LLM capability
6. â³ Verify Portuguese + reasoning quality
7. â³ Run full Wisdom Council analysis

### In Orchestration
The Orchestrator now:
- Assigns tasks based on daemon strengths
- Coordinates complementary daemons
- Leverages LLM reasoning capability
- **PROTECTS against RAM exhaustion** (critical!)
- Provides transparent chain-of-thought reasoning
- Records decisions with full justification

---

## The Wisdom Council is Complete! ğŸ§™â€â™‚ï¸

**Seven characters** from His Dark Materials, each with unique daemon,
**Powered by DeepSeek-R1** with professional reasoning capability,
**Protected by guardrails** against system failures,
working together to analyze, design, execute, research, communicate,
validate, and coordinate your projects with wisdom, power, and transparency.

### Starting Your First Session
```bash
# ALWAYS start with this!
python check_ram_before_use.py

# Wait for âœ… ALL CHECKS PASSED

# THEN you're safe to use the Wisdom Council
```

**The Council is ready for work!** âœ¨

---

## âš ï¸ THE MOST IMPORTANT RULE

### DO NOT SKIP RAM CHECK!
```bash
python check_ram_before_use.py
```

Running analysis without this check can cause:
- System crashes
- Loss of work
- Data corruption
- Hours of recovery time

**Takes 10 seconds. Saves hours of pain.** ğŸ›¡ï¸
